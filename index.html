<!doctype html><html><head> <title>666</title> <meta content="width=device-width,initial-scale=1" name=viewport> <style>body,html{background:#000;color:#fda;font-family:serif;font-size:5vh;text-shadow:5px 5px 2px #000;user-select:none}a,i,p{color:#fda!important;font-size:.5em}a,li{border-bottom:3px solid #0000;cursor:pointer;margin-bottom:.5em;text-decoration:none}a:hover,h2,li:hover{border-bottom:3px solid}h2{color:#f61;margin-bottom:.4em;margin-top:0}#hC,h1,h3,main{bottom:0;left:0;position:absolute}main{align-items:center;justify-content:center;left:auto;min-width:70%}#hC,h1,main{right:0;top:0}h3{right:5%;text-align:right}h1{text-align:center}.l h1,h3,main{display:none}.l h3{display:block}.m main{display:flex}nav{background:#00000080;min-height:70%;min-width:50%;padding:.5em}</style></head> <body> <canvas id=hC></canvas> <main> <nav> <h2>DANTE</h2> <ul> <li id=b1>Play</li> <li id=b2> Play first person<i><br>(keyboard+mouse|gamepad)</i> </li> <li id=b3>Delete progress</li> <li id=b4></li> </ul> <p>Move: WASD/arrows, Interact: E/Enter, Menu: Esc</p> <a href=https://github.com/SalvatorePreviti/js13k-2022 target=_blank>© 2022 SalvatorePreviti</a> - <a href=https://twitter.com/ryanmalm target=_blank>music Ryan Malm</a> </nav> </main> <h1 id=h1>loading</h1> <h3>Souls:<b id=h3></b></h3> <script type=module>let r,k,l1,s1,j,a=0,r1=0,n1=0,o1=!0,c1=0,T=0,J=.01,i1=0,u1=0,y=0,f1=0,x=0,K=0,N=0,m1=!1,z=!1,q=Math.PI/180,X=new DOMMatrix,w=(t,a)=>t<a?t:a,E=(t,a)=>a<t?t:a,y1=t=>t<0?-t:t,W=t=>t<0?0:1<t?1:t,G=(t,a)=>(t=t<0?0:1<t?1:t)+(1-t-t)*(a<0?0:1<a?1:a),x1=t=>Math.atan2(Math.sin(t*=q),Math.cos(t))/q,M1=(t,a,e)=>((t*=q)+(2*(a=(a*q-t)%(2*Math.PI))%(2*Math.PI)-a)*(e<0?0:1<e?1:e))/q,g1=(t,a,e,l)=>{let s=a-t;return(t+=Math.sign(a-t)*E(0,(s<0?-s:s)**.9-e)*l*2)+(a-t)*W(l/7)},V=(t,e)=>Array.from(Array(t),(t,a)=>e(a)),p1=(t,a,e,l)=>[t,0,0,0,0,a,0,0,0,0,(l+e)/(e-l),-1,0,0,2*l*e/(e-l),0],v=({x:t,y:a,z:e},l)=>t*l.x+a*l.y+e*l.z,I=({x:t,y:a,z:e})=>Math.sqrt((t-=Q.x)*t+(a-=Q.y)+a+(e-=Q.z)*e)||0,d=t=>{let a,e=0,l=0,s=0,r=t.at(-1);for(a of t)e+=(r.y-a.y)*(r.z+a.z),l+=(r.z-a.z)*(r.x+a.x),s+=(r.x-a.x)*(r.y+a.y),r=a;return a=Math.hypot(e,l,s),e/=a,l/=a,s/=a,{x:e,y:l,z:s,w:e*r.x+l*r.y+s*r.z}},n=(t,a,e,l=0)=>255*l<<24|255*e<<16|255*a<<8|255*t,C=(t,a,e)=>(t.C=e,t.v=a,t),A=(t,l,a=t.v)=>C(t.map(t=>(({x:t,y:a,z:e})=>({x:t,y:a,z:e}=l.transformPoint({x:t,y:a,z:e}),{x:t,y:a,z:e}))(t)),a,t.C),o=(t,a,e)=>t.map(t=>A(t,a,e)),s=(e,l=0)=>V(e,t=>{let a=Math.cos(2*Math.PI*t/e);return{x:Math.sin(2*Math.PI*t/e),y:0,z:(a<0?-a:a)<.01?a:a<0?a-l:a+l}}),P=(l,s,r)=>l.map((t,a,{length:e})=>C([t,s[e-a-1],s[e-(a+1)%e-1],l[(a+1)%e]],l.v,r)),c=(t,a,e=0,l)=>(l=t.length?t:s(t,l),t=A(l,X.translate(0,1).scale3d(0<e?e:1)),e=A(l,X.translate(0,-1).scale3d(e<0?-e:1)).reverse(),(a=P(e,t,a)).push(e,t),a),e=(l,s=l,r=(t,a)=>(a*=Math.PI/s,{x:Math.cos(t*=2*Math.PI/l)*Math.sin(a),y:Math.cos(a),z:Math.sin(t)*Math.sin(a)}))=>{let n=[];for(let e=0;l>e;e++)for(let a=0;s>a;a++){let t=C([],0,1);t.push(r(e,a,t)),a&&t.push(r((e+1)%l,a,t)),s-1>a&&t.push(r((e+1)%l,a+1%s,t)),t.push(r(e,a+1%s,t)),n.push(t)}return n},S=(a,e)=>{let l,s,r,n=e.B;for(let t=0;n.length>t;++t)if((r=v(a,n[t])-a.w)<-8e-5?s=e:8e-5<r&&(l=e),s&&l)return((a,t)=>{let e,l=[],s=[],r=t.B,n=t.A,o=r.at(-1),c=v(a,o)-a.w;for(let t of r)e=v(a,t)-a.w,c<8e-5&&s.push(o),-8e-5<c&&l.push(o),(8e-5<c&&e<-8e-5||c<-8e-5&&8e-5<e)&&(c/=e-c,o={x:o.x+(o.x-t.x)*c,y:o.y+(o.y-t.y)*c,z:o.z+(o.z-t.z)*c},l.push(o),s.push(o)),o=t,c=e;return{m:2<l.length&&{B:C(l,r.v,r.C),A:n,o:t},l:2<s.length&&{B:C(s,r.v,r.C),A:n,o:t}}})(a,e);return{m:l,l:s}},B=(e,l,s=d(l.B))=>{if(e){let{m:t,l:a}=S(e,l);t||a||e.D.push(l),t&&(e.m=B(e.m,t,s)),a&&(e.l=B(e.l,a,s))}else e={x:s.x,y:s.y,z:s.z,w:s.w,D:[l],m:0,l:0};return e},D=(a,s,r)=>{let n=[],o=(t,a)=>{let{m:e,l}=S(t,a);e||l||(0<r*v(t,s)?e=a:l=a),e&&(t.m?o(t.m,e):n.push(e)),l&&t.l&&o(t.l,l)};for(let t of s.D)o(a,t);return n},F=(t,a)=>t&&(a(t),F(t.m,a),F(t.l,a)),L=t=>t.length?t.reduce((t,a)=>B(t,{B:a,A:0,o:0}),0):t,H=t=>(F(t,a=>{let t=a.l;a.l=a.m,a.m=t,a.x*=-1,a.y*=-1,a.z*=-1,a.w*=-1;for(let t of a.D)t.A=!t.A}),t),i=(...t)=>t.reduce((l,a)=>{let s=[];if(l=L(l),a){a=L(a),F(l,t=>t.D=D(a,t,1)),F(a,t=>s.push([t,D(l,t,-1)]));for(let[a,e]of s)for(let t of e)B(l,t,a)}return l}),h=(t,...a)=>H(i(H(L(t)),...a)),u=t=>{let e=new Map,l=new Map,s=a=>{if(a.o){let t=e.get(a.o);t?(l.delete(t),a=s(a.o)):e.set(a.o,a)}return a};return F(t,a=>{for(let t of a.D)l.set(s(t),t.A)}),Array.from(l,([{B:t},a])=>{let e=t.map(({x:t,y:a,z:e})=>({x:t,y:a,z:e}));return C(a?e.reverse():e,t.v,t.C)})},f=[{x:-1,z:1},{x:1,z:1},{x:1,z:-1},{x:-1,z:-1}],z1=[],m=(t,a)=>{l.push(l.at(-1).multiply(t)),a(),l.pop()},v1=[],d1=[],U=[],w1=[],O=[[]],I1=new Map,M=new Int32Array(7),C1=t=>{let{x:a,y:e,z:l}=r[t],s=(R1[0]=a,R1[1]=e,R1[2]=l,I1.get(t=""+(r.C?Y1:M)));return void 0!==s?(U[a=3*s]=(U[a++]+M[4])/2,U[a]=(U[a++]+M[5])/2,U[a]=(U[a]+M[6])/2):(I1.set(t,s=I1.size),d1.push(a,e,l),U.push(M[4],M[5],M[6]),w1.push(M[3])),s},g=(t,a=X,e)=>O.at(-1).push(...o(t,l.at(-1).multiply(a),e)),A1=()=>{let t=O.at(-1);for(r of t){let{x:t,y:a,z:e}=d(r);M[3]=0|r.v,M[4]=32767*t,M[5]=32767*a,M[6]=32767*e;for(let t=2,a=C1(0),e=C1(1);r.length>t;++t)v1.push(a,e,e=C1(t))}return t.length=0,{O:t=a,K:(a=v1.length)-t}},b=(t,a=0)=>(a={...U1,o:_1,F:[],J:l.at(-1),u:a},l.push(X),O.push([]),_1.F.push(a),t=t(_1=a)||A1(),z1[a.u]=a,t&&t.K&&(a.G=t),_1=a.o,l.pop(),O.pop(),a),P1=(a,t=X)=>{let e=a.h;a.o&&!a.u&&(a.u=a.o.u||1),a.s=t.multiply(a.J),e&&(t=e(a))&&(a.s=a.s.multiply(t));for(let t of a.F)P1(t,a.s)},S1=[[[2,69,128,0,1,143,128,9,0,0,7,5,36,0,0,0,0,0,0,0,2,149,110,22,31,47,3,56,2],[,,,,,1,2,3,4,5,5,6],[[,112,115,119,124,115,119,124,127,119,124,127,131,124,127,131,136,127,131,136,139,136,139,143,148,143,148,151,155,,155,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143,,143,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,148,,148,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,151,,151],[,114,119,123,126,119,123,126,131,123,126,131,135,126,131,135,138,131,135,138,143,135,138,143,147,143,147,150,155,,155],[,119,124,128,131,124,128,131,136,128,131,136,140,131,136,140,143,136,140,143,148,140,143,148,152,143,148,152,155,,155],[,124,129,132,136,136,141,144,148,148,153,156,160,,160,,,124,127,130,136,136,139,142,148,148,151,154,160,,160],[147,,143,,143,,145,,147,,148,,150,,147,,150,,148,,153,,151,,150,,148,,147,,144,,153,,,155,,155,,155,,155,,155,,155,,155,,155,,155,,155,,155,,155,,155,,155,,154,159],[147,144,,143,,144,,143,,144,,143,,144,,143,,,,,,,,,,,,,,,,,153,,155,,155,,155,,155,,155,,155,,155,,155,,,,,,,,,,,,,,,,159]]],[[2,100,128,0,3,201,128,0,0,0,5,6,35,0,0,0,0,195,6,1,2,135,0,0,32,147,6,0,6],[1,1,2,3,4,1,2,3,4,5,5,6],[[112,,119,,112,,119,,112,,119,,112,,119,,112,,119,,112,,119,,112,,119,,112,,119],[111,,119,,111,,119,,111,,119,,111,,119,,111,,119,,111,,119,,111,,119,,111,,119],[110,,119,,110,,119,,110,,119,,110,,119,,110,,119,,110,,119,,110,,119,,110,,119],[108,,120,,108,,120,,108,,120,,108,,120,,108,,120,,108,,120,,108,,120,,108,,120],[119,,135,,135,,136,,138,,139,,141,,138,,141,,139,,144,,143,,141,,139,,138,,136,,131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,119,,,,119,,,,119,,,,119,,,,119,,,,119,,,,119,,,,119],[119,,120,,119,,120,,119,,120,,119,,120,,119,,,,107,,,,,,,,,,,,131,,132,,131,,132,,131,,132,,131,,132,,131,,,,119]]],[[0,255,116,85,0,255,116,0,37,14,4,6,73,99,0,0,0,0,0,0,2,136,15,0,32,0,0,66,6],[,1,1,1,1,1,1,1,1,1,1,2],[[123,,,,123,,,,123,,,,123,,,,123,,,,123,,,,123,,,,123],[123,,,,147,,,,147,,,,147]]],[[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,13,176,5,16,4],[,1,1,1,1,1,1,1,1,1,1,2],[[123,,123,,123,,123,,123,,123,,123,,123,123,123,,123,,123,,123,,123,123,123,,123,,123],[123,,123,,123,,123,,123,,123,123,123,,123,,,,,,147]]],[[0,221,128,64,0,210,128,0,64,255,4,6,73,79,0,0,0,64,7,1,3,195,15,0,21,20,0,9,3],[,,,,,1,1,1,1,1,1,2],[[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],[147,,,147,,,147,,,147,,,147,,,147,,,,,147]]]],B1=[5513,4562,3891],_=[],D1=()=>{try{k||!o1?tt.disconnect():(tt.connect(Z1.destination),tt.start())}catch{}b4.innerHTML="Audio: "+o1},F1=t=>{k!==t&&(k=t,D1(),document.body.className=t?"l m":"l",t&&document.exitPointerLock())},Y=(t,a,e)=>t+(a-t)*W(1-Math.exp(-e*J)),t=({j:t})=>t,R=[],L1=[],H1={x:0,y:10,z:-27},O1=()=>{h3.innerHTML=" "+"0 I II III IV V VI VII VIII IX X XI XII XIII".split(" ")[L1.reduce((t,a)=>t+a.j,0)]},k1=()=>{O1(),localStorage.L=JSON.stringify([666,R.map(t),L1.map(t),i1,T,x])},p=()=>{b(l=>{let s={j:0,g:0,i:0,N:l},r=R.push(s)-1;l.h=()=>{let t,a=l.s,e=(s.M=a,_[5]&&I(a.transformPoint())<2.7&&(a=s.j,((t=s.g)<.3||.7<t)&&(s.j=a?0:1,i1=r,k1())),a=s.j,s.i);return s.g=Y(t=s.g,a,4),s.i=Y(e,a,1),l.G=et[.5<t?1:0],X.rotate(60*s.g-30,0).translateSelf(0,1,0)}}),g(c(5),X.translate(-.2).rotate(90,90).scale(.4,.1,.5),n(.4,.5,.5)),g(c(5),X.translate(.2).rotate(90,90).scale(.4,.1,.5),n(.4,.5,.5)),g(c(f),X.translate(0,-.4).scale(.5,.1,.5),n(.5,.5,.4))},j1=()=>{let s=3,l=u(h(o(c(f),X.translate(0,-8).scale(6,15,2.2)),o(c(f),X.translate(0,-14.1,0).scale(4,13,4)),o(c(30,1),X.translate(0,-1).rotate(90,0,90).scale3d(4)))),e=(V(7,t=>g(c(6,1),X.translate(4*(t/6-.5),3).scale(.2,3,.2),n(.3,.3,.38))),A1());b(()=>{let t=X.translate(0,3,10),a=[[0,0,7]];m(t,()=>{let n=-1,o=0,c=1,i=0,h=0,u=3,f=0,m=0,M={j:0},g=(L1.push(M),a.map(([t,a,e],l)=>({x:t,z:a,w:e,P:l}))),p=g[0],y=g[0].x,v=g[0].z,x=y,d=v;b(r=>(r.H=0,r.h=()=>{let e,l,z,w,t,a=1,s=(r.I=1-M.j,1/0);for(e of g)l=e.w,z=Math.hypot(y-e.x,v-e.z),t||=l>z,0<(w=z-l)&&s>w&&(s=w,p=e),a=(l=z/l)>a?a:l;if(!t){s=p.x,l=p.w;let t=Math.hypot(z=y-s,w=v-(e=p.z)),a=Math.atan2(-w,z);c&&(i=(Math.random()-.5)*Math.PI/2,u=E(1,u/(1+Math.random()))),a+=i,n=-Math.cos(a),o=Math.sin(a),.1<t&&(t=(l>t?t:l)/(t||1),y=z*t+s,v=w*t+e)}return c=t,u=Y(u,3+6*(1-a),3+a),y=Y(y,y+n,u),v=Y(v,v+o,u),x=Y(x,y,u),d=Y(d,v,u),h=M1(h,Math.atan2(x-f,d-m)/q-180,3*J),f=x,m=d,t=X.translate(x,0,d).rotateSelf(0,h).skewXSelf(7*Math.sin(2*T)).skewYSelf(7*Math.sin(1.4*T)),a=r.s.multiply(t).transformPoint(),!M.j&&I(a)<1.1&&(M.j=1,k1()),t},st))}),f.map(({x:t,z:a})=>{g(c(6),X.translate(3*t,3,15*a).scale(.7,4,.7),n(.6,.3,.3,.4))}),[-23,22].map(t=>{g(c(f),X.translate(0,0,t).scale(3,1,8),n(.9,.9,.9,.2))}),[-15,15].map((t,a)=>{g(c(f),X.translate(0,6.3,t).scale(4,.3,1),n(.3,.3,.3,.4)),g(c(f),X.translate(0,1,t).scale(3,.2,.35),n(.5,.5,.5,.3)),m(X.translate(0,0,t),()=>b(t=>(t.h=()=>X.translate(0,-4.7*R[a].g),e)))}),V(5,a=>V(2,t=>g(V1,X.translate(18.5*(t-.5),0,4.8*a-9.5).rotate(0,180-180*t).scale(1.2,10,1.2),n(1,1,.8,.2)))),g(c(f),X.translate(3,1.5,-20).scale(.5,2,5),n(.7,.7,.7,.2)),g(c(5),X.translate(-5.4,.3,-20).scale(3,.5,3).rotate(0,-90),n(.75,.75,.75,.2)),m(X.translate(-5.4,1.2,-20).rotate(0,-90),p),g(c(f),X.rotate(0,60,0).translate(14.8,-1.46,-1).rotate(0,0,-30).scale(4,.6,4.5),n(.8,.2,.2,.5)),g(u(h(i(o(c(6,0,0,.3),X.translate(8,-3,-4).scale(13,1,13),n(.7,.7,.7,.2)),o(c(6),X.translate(0,-8).scale(9,8,8),n(.4,.2,.5,.5)),o(c(6,0,0,.3),X.translate(0,-.92).scale(13,2,13),n(.8,.8,.8,.2))),o(c(5),X.scale(5,30,5),n(.4,.2,.6,.5)),o(c(5,0,1.5),X.translate(0,1,0).scale(4.5,.3,4.5),n(.7,.5,.9,.2)),o(c(f),X.rotate(0,60).translate(14,.7,-1).rotate(0,0,-35).scale(2,2,2),n(.5,.5,.5,.5)),o(c(6),X.translate(15,-1.5,4).scale(3.5,1,3.5),n(.5,.5,.5,.5))))),b(t=>{m(X.translate(0,1.2),p),t.h=()=>(t.I=.01<R[2].g,X.translate(0,(5*Math.cos(1.5*T)+2)*R[2].i*(1-R[1].g)+-15*(1-R[2].g),0)),g(c(5),X.translate(0,-.2).scale(5,1,5),n(.6,.65,.7,.3))},++s),m(X.translate(15,-2,4),p),m(X.translate(0,0,75),()=>{let l=()=>{let t=R[1].i,a=1-R[3].i;return t<a?t:a},t=(a,e)=>b(t=>{t.h=()=>X.translate(l()*Math.sin(a+T/1.5)*e),f.map(({x:t,z:a})=>{g(c(11,1),X.translate(4*t,4,4*a-40).scale(.8,3,.8),n(.5,.3,.7,.6)),g(c(f),X.translate(4*t,7,4*a-40).scale(1,.3,1),n(.5,.5,.5,.3))}),g(u(h(o(c(f),X.translate(0,0,-40).scale(5,1,5),n(.8,.8,.8,.3)),...[-1,1].map(t=>o(c(f),X.translate(5*t,.2,-40).rotate(0,0,-30*t).scale(4,1,2),n(.8,.8,.8,.3)))))),g(c(f),X.translate(0,-3,-40).scale(8,2,8),n(.4,.4,.4,.3))},++s),a=(t(0,12),m(X.translate(0,0,20),()=>t(5,8.2)),b(t=>{t.h=()=>X.translate(l()*Math.sin(T/1.5+2)*12,0),g(u(h(i(o(c(f),X.translate(0,0,-30).scale(1.5,1,5),n(.9,.9,.9,.2)),o(c(6),X.translate(0,0,-30).scale(4,1,5),n(.9,.9,.9,.2)),o(c(f),X.translate(0,-2,-30).scale(2,3.2,1.9),n(.3,.8,.5,.5)),o(c(30,1,0,4),X.translate(0,0,-30).scale(1,1,1.5).rotate(0,90),n(.9,.9,.9,.2))),o(c(f),X.translate(0,0,-30).scale(1.3,10,1.3),n(.2,.7,.4,.6)))))},++s),b(t=>{t.h=()=>X.translate(9.8*(1-l())),g(c(3),X.translate(-23,-1.6,-19.2).scale(5,.6,8.3),n(.3,.6,.6,.2)),g(c(f),X.translate(-23,-3,-20).scale(5.2,1.7,3),n(.5,.5,.5,.3)),m(X.translate(-23,-.5,-14.5),p)},++s),g(c(f),X.translate(-18.65,-3,-20).scale(2.45,1.4,2.7),n(.9,.9,.9,.2)),b(t=>{t.h=()=>{let t=W(1-5*l())*G(R[3].g,R[4].g);return X.translate(0,t*Math.sin(1.5*T)*4)},g(c(f),X.translate(-22.55,-3,-20).scale(1.45,1.4,2.7),n(.9,.9,.9,.2)),g(u(h(o(c(f),X.scale(3,1.4,2.7)),o(c(f),X.scale(1.2,8,1.2)))),X.translate(-33,-3,-20),n(.9,.9,.9,.2))},++s),b(t=>{t.h=()=>X.translate(0,0,W(1-5*l())*G(R[3].g,R[4].g)*Math.sin(T)*11),g(u(h(o(c(f),X.translate(-27,-3,-20).scale(3,1.4,2.7),n(.9,.9,.9,.2)),o(c(f),X.translate(-27,-3,-20).scale(1,3,1),n(.9,.9,.9,.2))))),g(c(f),X.translate(-39,-3,-20).scale(3,1.4,2.7),n(.9,.9,.9,.2))},++s),m(X.translate(-44.5,0,-20),()=>b(t=>{t.h=()=>X.translate(0,-6.5*R[3].i),g(c(6),X.rotate(90,90).rotate(0,90).scale(5.9,.5,5.9),n(.7,.7,.7,.4))})),[...o(u(h(o(c(6),X.rotate(0,0,90).scale(6,8,6)),o(c(4,0,.01),X.translate(0,6,0).scale(12,2,.75).rotate(0,45),n(1,1,1)),o(c(6),X.rotate(0,0,90).scale(5,12,5)),...[5,0,-5].map(t=>o(c(5),X.translate(t,2.5).rotate(90,0,36).scale(1.8,10,1.8))))),X,n(.3,.6,.6,.3)),...o(c(f),X.translate(0,-3,0).scale(11,1.4,3),n(.9,.9,.9,.2))]);g(a,X.translate(-53,0,-20)),g(c(6),X.translate(-61.3,-2.4,-26).scale(3,1,5),n(.4,.6,.6,.3)),g(c(7),X.translate(-57,-2.6,-29).scale(4,1,4),n(.8,.8,.8,.3)),m(X.translate(-55,-1.1,-29).rotate(0,90),p),m(X.translate(-75,0,-20),()=>b(t=>{t.h=()=>X.translate(0,(1-R[4].i)*(1-R[5].g)*3).rotate(180*(1-R[4].i)-f1,0),g(a)})),g(c(f),X.translate(-88.3,-5.1,-20).rotate(0,0,-30).scale(5,1.25,4.7),n(.7,.7,.7,.2)),g(c(3,0,-.5),X.translate(-88.4,-3.9,-20).rotate(0,-90,17).scale(3,1.45,5.9),n(.8,.8,.8,.2)),g(u(h(i(o(c(f),X.translate(-100,-2.5,-20).scale(8,1,8),n(.8,.8,.8,.2)),o(c(f),X.translate(-113,-2.6,-20).scale(6.2,1.1,3).skewX(3),n(.8,.8,.8,.2)),o(c(f),X.translate(-100,-2.6,-5).scale(3,1.1,7),n(.8,.8,.8,.2)),o(c(f),X.translate(-96,-2.6,-2).rotate(0,45).scale(3,1.1,5),n(.8,.8,.8,.2)),o(c(6),X.translate(-88.79,-2.6,5.21).scale(6,1.1,6).rotate(0,15),n(.6,.6,.6,.3)),o(c(f),X.translate(-100,-1.1,7.39).rotate(-15,0).scale(3,1.1,6),n(.8,.8,.8,.2)),o(c(f),X.translate(-100,.42,17).scale(3,1.1,4.1),n(.8,.8,.8,.2))),o(c(8),X.translate(-100,-1,-20).scale(7,.9,7),n(.3,.3,.3,.4)),o(c(8),X.translate(-100,-2,-20).scale(4,.3,4),n(.4,.4,.4,.5)),o(c(8),X.translate(-100,-3,-20).scale(.6,1,.6),n(.4,.4,.4,.5)))),X),g(u(h(o(c(f),X.translate(-100,1,-12).scale(7.5,4,1),n(.5,.5,.5,.4)),o(c(f),X.translate(-100,.1,-5).scale(2,1.7,10),n(.5,.5,.5,.4)),o(c(25,1),X.translate(-100,2,-5).scale(2,2,10).rotate(90,0),n(.5,.5,.5,.4))))),m(X.translate(-99.7,-2,-11.5),()=>b(t=>(t.h=()=>X.translate(0,-5.3*R[5].g),e))),f.map(({x:a,z:e})=>{g(c(6),X.translate(7*a-100,-3,7*e-20).scale(1,8.1,1),n(.6,.15,.15,.8)),[4,-.4].map(t=>g(c(6),X.translate(7*a-100,t,7*e-20).scale(1.3,.5,1.3),n(.4,.2,.2,.8)))}),[n(.5,.5,.6,.25),n(.4,.4,.6,.35),n(.35,.5,.6,.45),n(.3,.6,.6,.25),n(.25,.5,.6,.35),n(.2,.4,.6,.25),n(.15,.5,.6,.35)].map((t,a)=>{g(c((23*a+1)%5+5,0,.55),X.translate(5*Math.sin(a)-101+a,-2.3-a,-30.1-2.8*a).scaleSelf(5+a/2,1+a/6,5+a/3),t)}),g(c(f),X.translate(-87,-9.5,-51).scale(7,1,3),n(.4,.5,.6,.4)),g(c(4),X.translate(-86,-9.2,-48).scale(5,1,5),n(.5,.6,.7,.3)),g(c(25,1),X.translate(-86,-9,-44).scale(1.5,1,1.5),n(.3,.3,.4,.1)),m(X.translate(-86,-7.5,-44),p),m(X.translate(-76.9,-10,-51),()=>{b(t=>{t.h=()=>X.translate(0,3.5*(1-E(R[5].g,R[6].g))+G(R[6].i,R[5].i)*Math.sin(T)*5),[0,12,24].map(t=>g(c(f),X.translate(t,-t/13).scale(2.8,1.5,3),n(.2,.5,.6,.2)))},++s),b(t=>{t.h=()=>{let t=G(R[6].i,R[5].i);return X.translate(0,t*Math.sin(T+3)*6,6*Math.sin(.6*T+t)*t)},[6,18].map(t=>g(c(f),X.translate(t,-t/13).scale(2.8,1.5,3),n(.1,.4,.5,.2)))},++s)}),m(X.translate(-38.9,-11.3,-51),()=>{g(u(h(i(o(c(f),X.scale(11,1,8),n(.3,.4,.6,.3)),o(c(5),X.scale(7,1.2,7),n(0,.2,.3,.5))),o(c(5),X.scale(4.4,5,4.4),n(0,.2,.3,.5))))),b(t=>{t.h=()=>X.translate(0,-5.9*R[6].i),g(u(h(i(o(c(5),X.translate(0,2).scale(4,6,4).skewY(8),n(.2,.4,.5,.5)),o(c(5),X.translate(0,5).scale(2,6,2).skewY(-8),n(.25,.35,.5,.5)),o(c(5),X.translate(0,9).scale(1.2,5,1.2).skewY(8),n(.35,.3,.5,.5))),o(c(5),X.translate(0,5).scale(1.5,1.5,8).rotate(90,0,35),n(.2,.4,.5,.5)))))}),f.map(({x:a,z:e})=>{g(c(20,1),X.translate(9*a,4,6*e).scale(1,4,1),n(.25,.25,.25,1)),[1.5,8].map(t=>g(c(20,1),X.translate(9*a,t,6*e).scale(1.5,.5,1.5),n(.6,.6,.6,.3)))}),g(c(f),X.translate(0,0,-9).scale(3,1.2,3),n(.35,.3,.5,.5)),m(X.translate(0,1.7,-11).rotate(0,180),p)}),g(c(5),X.translate(-84,-2,10).scale(4,.8,4).rotate(0,10,0),n(.8,.1,.25,.4)),m(X.translate(-84,-.5,10).rotate(0,45),p)}),m(X.translate(-123,1.4,55),()=>{b(t=>{t.h=()=>X.translate(Math.sin(T+2)/5,Math.sin(.8*T)/3,-65*x).rotate(2*Math.sin(T),Math.sin(.7*T),Math.sin(.9*T)),g(u(h(o(c(20,1,1.15,1),X.translate(0,-3).scale(3.5,1,3.5),n(.7,.4,.25,.7)),o(c(20,1,1.3,1),X.translate(0,-2.5).scale(2.6,1,3),n(.7,.4,.25,.2)),o(c(f),X.translate(4,-1.2,0).scale3d(2),n(.7,.4,.25,.3))))),m(X.translate(0,-3,-4).rotate(0,180),p)},++s)}),m(X.translate(-123,0,-12),()=>{let a=u(h(o(c(f),X.translate(0,-.5,1).scale(1.15,1.2,6.5),n(.25,.25,.35,.3)),o(c(3),X.translate(0,0,-5.5).scale(3,2,1),n(.6,.3,.4,.3)),...[-1.2,1.2].map(t=>o(c(f),X.translate(t,-.5,1).scale(.14,.3,6.5),n(.7,.2,0,.3)))));g(c(f),X.translate(7,-2.6).scale(3.2,1.1,4).skewX(3),n(.8,.8,.8,.2)),g(c(6),X.translate(7,-2.6,-4.5).scale(3.2,.8,3),n(.6,.5,.7,.2)),m(X.translate(7,-1.4,-6).rotate(0,180),p),V(3,t=>g(l,X.translate(12*t+14,-9),n(.6,.6,.6,.3))),V(3,t=>g(l,X.translate(46,-9,-12*t-8).rotate(0,90),n(.6,.6,.6,.3))),g(u(h(o(c(12),X.translate(46,-13.9).scale(4,18.2,4),n(.7,.7,.7,.2)),o(c(f),X.translate(44,0).scale(3.5,2.2,1.3),n(.4,.5,.6,.2)),o(c(f),X.translate(46,0,-2).scale(1.5,2.2,2),n(.4,.5,.6,.2)),o(c(12),X.translate(46,2.8).scale(3,5,3),n(.4,.5,.6,.2))))),g(c(f),X.translate(7.5,-17).scale(.5,15,2.2),n(.6,.6,.6,.3)),g(c(f),X.translate(46,-17,-38.5).scale(2.2,15,.5),n(.6,.6,.6,.3)),g(u(h(i(o(c(f),X.translate(26.5,-1.6,10).scale(17,2.08,3)),o(c(f),X.translate(26.5,-.6,10).scale(17,2,.5))),...V(4,t=>o(c(f),X.translate(13+9*t+(1&t),-.8,9).scale(1.35,1.35,9))),...V(3,t=>o(c(f),X.translate(17+9*t,-.8,9).scale(1.35,1.35,9))))),X,n(.5,.5,.6,.2)),g(c(5),X.translate(9.4,-1.6,10).rotate(0,90,90).scale(1.5,.2,1.5),n(.25,.25,.35,1)),b(t=>{t.h=()=>{let t=Math.sin(1.1*T);return X.translate.call(X,0,-2,-G(R[9].g,R[10].g)*(t<0?-t:t)*8.5+10)},V(2,t=>g(a,X.translate(13+9*t+(1&t),1.7)))}),b(t=>{t.h=()=>{let t=Math.sin(2.1*T);return X.translate.call(X,0,-2,-G(R[9].g,R[10].g)*(t<0?-t:t)*8.5+10)},V(2,t=>g(a,X.translate(13+9*(t+2)+(1&t),1.7)))}),b(t=>{t.h=()=>{let t=Math.sin(1.5*T);return X.translate.call(X,0,-2,-8.5*E((1-R[9].g)*(1-G(R[9].g,R[10].g)),G(R[9].g,R[10].g)*(t<0?-t:t))+10)},V(3,t=>g(a,X.translate(17+9*t,1.7)))}),g(c(f),X.translate(38.1,-4.3,-28).rotate(0,0,12).scale(6,1,3),n(.6,.6,.6,.3)),g(u(h(o(c(f),X.translate(30,-5.8,-28).scale(9,1,5),n(.8,.8,.8,.1)),o(c(9),X.translate(25,-5.8,-28).scale(3,8,3),n(.7,.7,.7,.2))))),g(c(9),X.translate(25,-5.8,-28).scale(2.5,.9,2.5),n(.5,.5,.5,.3)),m(X.translate(25,-4.4,-28).rotate(0,90),p)}),m(X.translate(-100,.7,115),()=>{g(u(h(i(o(c(6,0,0,.6),X.translate(0,0,-9.5).scale(8,1,11),n(.7,.7,.7,.2)),o(c(f),X.translate(-1.5,0,-21.5).scale(10.5,1,2),n(.7,.7,.7,.2)),o(c(f),X.translate(8.8,0,-8).scale(3,1,3.3),n(.7,.7,.7,.2))),o(c(5),X.translate(0,0,-2).scale(4,3,4),n(.7,.7,.7,.2))))),[n(.5,.5,.6,.25),n(.4,.4,.6,.35),n(.35,.5,.6,.45),n(.3,.6,.6,.25)].map((a,e)=>{b(t=>{t.h=()=>{let t=G(R[7].i,R[11].i);return X.translate(2<e?2*(1-t)+t:0,t*Math.sin(T+1.7*e)*(5+e/4),-(1&e?-1:1)*(1-R[7].i)*(1-R[11].i)*7+(t<.05?.05:t)*Math.cos(T+7*e)*(6-2*(1-e/3)))},g(c(6),X.translate(-14.6-4.8*e-(2<e?2:0),-e/2.3,-21.5).scale(2.6,1,2.5),a)},++s)}),m(X.translate(-40.8,-2.5,-21.5),()=>{b(t=>{t.h=()=>{let t=G(R[7].i,R[11].i);return X.translate(3.5*(1-t),-4*(1-R[7].g)+-t*Math.sin(.7*T)*4,t*(2*Math.sin(.9*T)-1)*3).rotateSelf(Math.cos(1.3*T)*(4*t+3),0)},g(u(h(o(c(10),X.scale(6,2,6),n(.1,.6,.5,.3)),o(c(10),X.scale(3.4,6,3.4),n(.1,.6,.5,.5))))),m(X.translate(-7.5).rotate(0,90),()=>{g(c(15),X.scale(3,2.3,3),n(.4,.4,.4,.3)),g(c(10),X.scale(2,2.5,2),n(.3,.8,.7,.3)),g(c(5),X.scale(1,3,1),n(.5,.5,.5,.5)),m(X.translate(0,3.4).rotate(0,180),p)}),[-1,1].map(t=>g(V1,X.rotate(-90*t,180,90).translate(0,5,0).rotate(0,0,40).scale(1.3,10,1.3),n(1,1,.8,.2)))},++s)}),[-1,1].map(a=>{g(c(15,1),X.translate(-7.5*a,3,-19).scale(.8,4,.8),n(.6,.24,.2,.5)),[7.2,1.5].map(t=>g(c(15,1),X.translate(-7.5*a,t,-19).scale(1.1,.5,1.1),n(.5,.24,.2,.4))),g(V1,X.translate(-5*a,1,-.5).scale(1.2,10,1.2).rotate(0,90*a-90),n(1,1,.8)),g(u(h(o(c(f),X.translate(-4*a,3.5,-.5).scale(4,4,.7),n(.5,.5,.5,.4)),o(c(f),X.scale(3,3,10),n(.6,.24,.2,.5)),o(c(40,1),X.translate(0,3,-5).scale(3,4,10).rotate(90,0),n(.6,.24,.2,.5)),o(c(5),X.translate(-5.3*a,7,0).rotate(90,0).scale(1.7,5,1.7),n(.6,.24,.2,.5)),o(c(5),X.translate(-5.3*a,3.8,0).rotate(90,0,35).scale(.75,5,.75),n(.6,.24,.2,.5)))),X.translate(a,0,-18))}),b(t=>(t.h=()=>X.translate(0,-.1-6*R[11].g,-18.5).scale(.88,1.2,1),e));let a=[...o(c(50,1),X.scale(8,1,8),n(.45,.45,.45,.2)),...o(c(5),X.translate(0,1).scale(1,.2,1),n(.3,.3,.3,.2))];m(X.translate(20,.3,-9),()=>{b(t=>{t.h=()=>X.rotate(0,180+u1),g(u(h(o(c(40,1),X.scale(8,1,8),n(.45,.45,.45,.2)),o(c(f),X.translate(0,0,-5.5).scale(1.5,3,2.5),n(.45,.45,.45,.2))))),g(c(8),X.translate(0,2).scale(3,1.5,3),n(.7,.7,.7,.1)),g(c(5),X.translate(0,2).scale(1,2,1),n(.3,.3,.3,.2))},++s)}),m(X.translate(36,.3,-9),()=>{g(c(f),X.translate(8,0).scale(.7,.8,2.5),n(.7,.7,.7,.2)),b(t=>{t.h=()=>X.rotate(0,y),g(u(h(o(c(50,1),X.translate(0,2).scale(8,1,8),n(.35,0,0,.3)),o(c(f),X.scale(9,5,2),n(.3,0,0,.3))))),g(a),[-1,1].map(t=>g(V1,X.rotate(0,90).translate(-5*t,1,-.5).scale(1.2,10,1.2).rotate(0,90*t+90),n(1,1,.8)))},++s)}),m(X.translate(52,.3,-9),()=>{g(c(f),X.translate(0,0,-8).scale(2.5,.8,.7),n(.7,.7,.7,.2)),b(t=>{t.h=()=>X.rotate(0,180-y),g(u(h(o(c(30,1),X.translate(0,2).scale(8,1,8),n(.35,0,0,.3)),o(c(f),X.translate(7).scale(9,5,2),n(.3,0,0,.3)),o(c(f),X.translate(0,0,7).scale(2,5,9),n(.3,0,0,.3))))),g(a)},++s)}),m(X.translate(52,.3,-25),()=>{b(t=>{t.h=()=>X.rotate(0,270+y),g(u(h(o(c(30,1),X.translate(0,2).scale(8,1,8),n(.35,0,0,.3)),o(c(f),X.translate(7).scale(9,5,2),n(.3,0,0,.3)),o(c(f),X.translate(0,0,-7).scale(2,5,9),n(.3,0,0,.3))))),g(a)},++s)}),g(c(f),X.translate(61,-.3,-25).scale(2,1,2),n(.7,.7,.7,.3)),g(c(f),X.translate(68,-.3,-25).scale(5,1,3),n(.7,.7,.7,.3)),m(X.translate(66,2,-19).rotate(-12,0),p),g(c(5),X.translate(66,-.5,-19).scale(3,2,4).rotate(-20,0),n(.2,.5,.5,.6)),[n(.1,.55,.45,.2),n(.2,.5,.5,.3),n(.3,.45,.55,.4)].map((a,e)=>b(t=>{t.h=()=>X.translate(0,(1-R[12].i)*(1-R[13].i)*3+G(R[12].i,R[13].i)*Math.sin(1.5*T+1.5*e)*4),g(c(f),X.translate(76.5,e/2-2.1,7.5*(1-e/30)*e-25).scale(3.3,3-e/2,3.45-e/5),a)},++s)),m(X.translate(100,.2,-20),()=>{g(c(f),X.translate(-9.7,-.2,8.9).scale(10,1,2.5),n(.6,.6,.6,.2)),g(u(h(o(c(6,0,0,.3),X.translate(0,-.92).scale(14,2,14),n(.8,.8,.8,.2)),o(c(5),X.scale3d(5),n(.3,.3,.3,.5))))),[8,-11].map((a,e)=>V(3,t=>g(l,X.translate(6*t-6,a-(1&t),14.5-.2*(1&t)+e),1&t?n(.5,.5,.5,.3):n(.35,.35,.35,.5)))),[-1,1].map(t=>g(V1,X.translate(-8*t,1,-10).scale(1.2,10,1.2).rotate(0,90*t+90),n(1,1,.8))),g(c(5),X.translate(0,1,-13).scale(3,.3,3).rotate(0,35),n(.6,0,0,.4)),m(X.translate(0,1.7,-13).rotate(0,180),p),b(t=>{t.h=()=>X.translate(0,15*G(R[13].g,R[12].i)),g(c(5),X.scale(4,1.1,4),n(.5,.3,.3,.4)),g(c(5),X.scale(4.5,.9,4.5),n(.3,.3,.3,.4)),g(c(5),X.translate(0,-10).scale(.5,10,.5),n(.3,.3,.3,.4))},++s)})})})},T1=0,J1=180,K1=new DOMMatrix,N1=(t,a,e)=>{let l=0,s=0,r=0,n=1.1*(a-t),o=new DOMMatrix(p1(hC.clientHeight/hC.clientWidth*1.732051,1.732051,t,a)).multiplySelf(K1).invertSelf(),c=(t=V(8,t=>(t=o.transformPoint({x:4&t?1:-1,y:2&t?1:-1,z:1&t?1:-1}),l-=t.x=(n*t.x|0)/n/t.w,s-=t.y=(n*t.y|0)/n/t.w,r-=t.z=(n*t.z|0)/n/t.w,t)),a=X.rotate(298,139).translateSelf(l/8,s/8,r/8),1/0),i=-1/0,h=1/0,u=-1/0,f=1/0,m=-1/0;return A(t,a).map(({x:t,y:a,z:e})=>{c=t>c?c:t,i=i>t?i:t,h=a>h?h:a,u=u>a?u:a,f=e>f?f:e,m=m>e?m:e}),f*=f<0?e:1/e,m*=0<m?e:1/e,X.scale(2/(i-c),2/(u-h),2/(f-m)).translateSelf(-(i+c)/2,-(u+h)/2,(f+m)/2).multiplySelf(a).toFloat32Array()},q1=(t,a=35633)=>(a=e1.c6x(a),e1.s3c(a,t),e1.c6a(a),a),X1=(t,a)=>{let e={},l=e1.c1h();return e1.abz(l,t),e1.abz(l,q1(a,35632)),e1.l8l(l),t=>t?e[t]||(e[t]=e1.gan(l,t)):e1.u7y(l)},E1=t=>e1.d97(4,t.K,5123,2*t.O),W1=(s,r,n)=>{let o=t=>{let a=t.G,e=t.F,l=t.u;if((r||2!==t.u)&&(!n||t.H)&&t.I){for(let t of e)o(t);a&&(n&&e1.ube(n,l/255),e1.uae(s,!1,t.s.toFloat32Array()),E1(a))}};if(k){let t=X.rotate(0,-70);e1.uae(s,!1,t.toFloat32Array()),E1(lt.G),s1.map(t=>E1(t.G))}else o(U1)},G1="data:image/svg+xml;base64,"+btoa('<svg color-interpolation-filters="sRGB" height="1024" width="1024" xmlns="http://www.w3.org/2000/svg"><filter filterUnits="userSpaceOnUse" height="1026" id="a" width="1026" x="0" y="0"><feTurbulence baseFrequency=".007" height="1025" numOctaves="6" stitchTiles="stitch" width="1025" result="z" type="fractalNoise" x="1" y="1"/><feTile height="1024" width="1024" x="-1" y="-1"/><feTile/><feDiffuseLighting diffuseConstant="4" lighting-color="red" surfaceScale="5"><feDistantLight azimuth="270" elevation="5"/></feDiffuseLighting><feTile height="1024" width="1024" x="1" y="1"/><feTile result="x"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1" in="z"/><feTile height="1024" width="1024" x="1" y="1"/><feTile result="z"/><feTurbulence baseFrequency=".01" height="1024" numOctaves="5" stitchTiles="stitch" width="1024"/><feColorMatrix values="0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1"/><feBlend in2="x" mode="screen"/><feBlend in2="z" mode="screen"/></filter><rect filter="url(#a)" height="100%" width="100%"/></svg>'),V1=(c(f),(()=>{let a=V(16,t=>X.translate(Math.sin(t/15*Math.PI),t/15).rotate(t/1.5).scale(1.0001-t/15,0,1-t/15)),e=s(20);return V(15,t=>P(A(e,a[t]).reverse(),A(e,a[t+1]),1)).flat()})()),U1={F:[],J:X,s:X,u:1,H:1,I:1},_1=U1,l=[X],Y1=new Int32Array(M.buffer,0,4),R1=new Float32Array(M.buffer),$1=[t=>Math.sin(t*Math.PI*2),t=>t%1<.5?1:-1,t=>t%1*2-1,t=>(t=t%1*4)<2?t-1:3-t],Q1=new Int32Array(10725888),Z1=new AudioContext,tt=Z1.createBufferSource(),at={KeyA:0,ArrowLeft:0,KeyW:1,ArrowUp:1,KeyD:2,ArrowRight:2,KeyS:3,ArrowDown:3,KeyE:5,Space:5,Enter:5},$={...H1},Q={...H1},et=(g([f.slice(1)],X.translate(-2).scale3d(3).rotate(90,0)),A1(),[n(1,.5,.2),n(.7,1,.2)].map(t=>(g(c(6,1),X.scale(.13,1.4,.13),n(.3,.3,.5)),g(c(8),X.translate(0,1,0).scale(.21,.3,.21),t),g(c(3),X.translate(0,-1).rotate(90,90).scale(.3,.4,.3),n(.2,.2,.2)),A1()))),lt=b(t=>{t.H=0,s1=[-.3,.3].map(t=>b(()=>{g(c(10,1),X.translate(t,-.8,0).scale(.2,.7,.24),n(1,.3,.4))})),[0,180].map(t=>g(V1,X.rotate(0,t).translate(.2,1.32,0).rotate(0,0,-30).scale(.2,.6,.2),n(1,1,.8))),g(e(30),X.translate(0,1,0).scale(.5,.5,.5),n(1,.3,.4));let a=o(u(h(c(15,1),o(c(f),X.translate(0,0,1).scale(2,2,.5)))),X.rotate(-90,0).scale(.1,.05,.1),n(.3,.3,.3));[-1,1].map(t=>g(a,X.translate(.2*t,1.2,.4).rotate(0,20*t,20*t))),g(c(f),X.translate(0,.9,.45).scale(.15,.02,.06),n(.3,.3,.3)),g(e(30),X.scale(.7,.8,.55),n(1,.3,.4))},2),st=(g(e(100,30,(t,a,e)=>{let l=t/100,s=l*Math.PI*2,r=(t=a/30)**.6*Math.PI/2;return l=t*t*Math.sin(l*Math.PI*14)/4,29===a?{x:e.C=0,y:-.5,z:0}:{x:Math.cos(s)*Math.sin(r),y:Math.cos(t*Math.PI)-t-l,z:Math.sin(s)*Math.sin(r)+Math.sin(l*Math.PI*2)/4}}),X.scale(.7,.7,.7),n(1,1,1)),[-.16,.16].map(t=>g(e(15),X.translate(t,.4,-.36).scale3d(.09))),A1()),Z=$.x,t1=$.y+13,a1=$.z-18,e1=hC.getContext("webgl2");for(let t in e1)e1[t[0]+[...t].reduce((t,a,e)=>(t*e+a.charCodeAt(0))%434,0).toString(36)]=e1[t];requestAnimationFrame(()=>{let t=0,a=()=>{if(!--l){let t=O,l,i,h=0,u=0,f=1,s=0,r=0,n=0,m=1,o=0,c=0,M=0,g=0,p=0,v=new Int32Array(256),a=()=>{let{M:t,N:a}=R[i1],{x:e,y:l,z:s}=i1&&t?t.transformPoint({x:0,y:15,z:-3}):H1;Q.x=$.x=e,Q.y=$.y=l,Q.z=$.z=s,p=g=i=M=c=m=o=0,f=1,h=u=a.u||1},d=e=>{requestAnimationFrame(d),(()=>{j=!!document.pointerLockElement,K=(_[0]?1:0)+(_[2]?-1:0),N=(_[1]?1:0)+(_[3]?-1:0);let l=navigator.getGamepads()[0];if(l){let t=t=>a[t]?.pressed||0<a[t]?.value,a=l.buttons,e=(l=l.axes,t(9));K+=(.2<y1(-l[0])?Math.sign(-l[0]):0)+(t(14)?1:0)+(t(15)?-1:0),N+=(.2<y1(-l[1])?Math.sign(-l[1]):0)+(t(12)?1:0)+(t(13)?-1:0),j&&(.3<y1(l[2])&&(T1+=l[2]*J*80),.3<y1(l[3])&&(J1+=l[3]*J*80)),m1!==e&&(m1=e)&&F1(!k),(t=t(1)||t(3)||t(2)||t(0))!==z&&(z=t,_[5]=t)}K=Math.sign(K),N=Math.sign(N)})(),0<J&&(e1.b6o(36160,F),e1.r9r(0,0,128,128,6408,5121,D),e1.iay(36160,[36064,36096]),(r=>{let n=0,o=0,a=0,e=0,c=0;v.fill(0);for(let t=0;t<31;++t){let l=0,s=512*t;for(let e=0;e<128;e++){let t=s+4*e,a=(r[t]+r[1+t])/255;t=r[2+t],14<e&&e<114&&(l+=a),t&&a&&(a=v[t]+1,v[t]=a,n>a||(n=a,o=t))}l<3&&5<t&&(e+=t/32),3<l&&(7<t&&(a+=t/15),c=1)}o&&(c=1),f?o&&(f=0,u=o):u=o||h,h=o,i=c,m=Y(m,c?6.5:8,4),$.y+=a/41-(c?1:m)*e/41*m*J})(D),(u=>{let a=0,e=0;for(let t=32;t<128;t+=2){let n=0,o=0,c=0,i=0,h=512*t;for(let r=t>>1&1;r<128;r+=2){let t=h+4*r,a=h+4*(127-r),e=u[t]/255,l=u[1+a]/255,s=r/63.5-1;s=1-(s<0?-s:s),10<r&&r<118&&(n=E(n,E(e*s,u[a]/255*e*2)),o=E(o,E(l*s,u[1+t]/255*l))),(r<54||74<r)&&.001<(t=(1-s)*(l<e?e:l)/3)&&(r<64&&t>c?c=t:64<r&&t>i&&(i=t))}c=i-c,n=o-n,(c<0?-c:c)>(a<0?-a:a)&&(a=c),(n<0?-n:n)>(e<0?-e:e)&&(e=n)}g=a,p=e})(D),(()=>{let t,a=W(1-5*E(g<0?-g:g,p<0?-p:p)),e=(u||(g+=c*a*J,p+=M*a*J),c=Y(c,0,i?8:4),M=Y(M,0,i?8:4),o=Y(o,i?(K||N?i?7:4:0)*a:0,i?.1<a?10:K||N?5:7:1),(K&&N?Math.SQRT1_2:1)*o*J);j?(a=Math.sin(t=J1*q)*e,e*=Math.cos(t),g-=K*e-N*a,p-=K*a+N*e):(g+=K*e,p+=N*e),a=z1[u]?.s||X,e=a.inverse(),{x:g,z:p}=e.transformPoint({x:g,y:0,z:p,w:0}),$.z+=p,$.x+=g,u!==l&&(l=u,{x:$.x,y:$.y,z:$.z}=e.transformPoint(Q)),e=Q.x,t=Q.z,{x:Q.x,y:Q.y,z:Q.z}=a.transformPoint($),u&&(c=(Q.x-e)/J,M=(Q.z-t)/J),(K||N)&&(s=Math.atan2(K,N)/q),r=M1(r,s,8*J),n+=((K||N?1:0)-n)*W(10*J)})());{let t=(e-(l1||e))/1e3;J=k?0:.0666<t?.0666:t,T+=J,c1+=t,l1=e}if(k)K1.setMatrixValue("none").rotateSelf(-30,-90).invertSelf().translateSelf(4.5-hC.clientHeight/hC.clientWidth,-2.5,-2.2+w(1,hC.clientHeight/hC.clientWidth));else{if(b=g1(b,Q.x,.5,J),I=g1(I,Q.y,2,J),C=g1(C,Q.z,.5,J),j)Z=Y(Z,Q.x,18+(e=200*f)),t1=Y(t1,Q.y+1.5,15+e),a1=Y(a1,Q.z,18+e),J1=x1(J1+.1*r1),T1=E(w(T1+.1*n1,87),-87);else{Z=g1(Z,b,1,2*J),t1=g1(t1,I+13+15*f,4,2*J),a1=g1(a1,C-18,1,2*J),e=Z-b;let t=t1-I,a=a1-C;1<(a<0?-a:a)&&(J1=270+Math.atan2(a,e)/q,T1=90-Math.atan2(Math.sqrt(a*a+e*e)||0,t)/q)}if(K1.setMatrixValue("none").rotateSelf(-T1,-J1,-0).invertSelf().translateSelf(-Z,-t1,-a1),0<J){{let t=G(R[11].g,R[12].g),a=Y(f1,0,1);f1=a+(x1(f1+60*J)-a)*W(R[4].g-R[5].i),a=Y(u1,0,5),u1=a+(x1(u1+56*J)-a)*(t<0?0:1<t?1:t),a=Y(y,0,4),y=a+(x1(y+48*J)-a)*(t<0?0:1<t?1:t),t=2*R[8].i-1,x=Y(x,R[8].i,.2+.3*(t<0?-t:t))}Q.y<-25&&a()}}P(),e1.v5y(0,0,1024,1024),H[0](N1(.3,40,10)),H[1](N1(40,85,11)),H[2](N1(85,177,15)),e1.b6o(36160,null),B(),e1.v5y(0,0,e1.drawingBufferWidth,e1.drawingBufferHeight),e1.c4s(16640),e1.uae(B("A"),!1,p1(hC.clientHeight/hC.clientWidth*1.732051,1.732051,.3,177)),e1.uae(B("B"),!1,K1.toFloat32Array()),e1.ubu(B("J"),Z,t1,a1),H[0](),H[1](),H[2](),W1(B("C"),!j),H[2](1),H[1](1),H[0](1),e1.b6o(36160,null),A(),e1.ubu(A("C"),e1.drawingBufferWidth,e1.drawingBufferHeight,c1),k?e1.ubu(A("J"),0,-0,0):e1.ubu(A("J"),Z,t1,a1),e1.uae(A("B"),!1,K1.invertSelf().toFloat32Array()),e1.d97(4,3,5123,0),k||(S(),e1.b6o(36160,F),e1.v5y(0,0,128,128),e1.cbf(!0,!1,!0,!1),e1.c4s(16640),e1.uae(S("B"),!1,X.rotate(0,180).invertSelf().translateSelf(-Q.x,-Q.y,.3-Q.z).toFloat32Array()),W1(S("C"),0,S("I")),e1.cbf(!1,!0,!1,!1),e1.c4s(16640),e1.cbf(!1,!0,!0,!1),e1.uae(S("B"),!1,X.translate(-Q.x,-Q.y,-Q.z-.3).toFloat32Array()),W1(S("C"),0,S("I")),e1.cbf(!0,!0,!0,!0)),0<J&&(1===u&&(R[8].j=Q.x<-15&&Q.z<0?1:0),P1(U1)),_[5]=r1=n1=0},b=$.x,I=$.y+13,C=$.z-18,e=q1(`#version 300 es
layout(location=0)in vec4 F;layout(location=1)in vec3 E;layout(location=2)in vec4 D;out vec4 N,L,M,K;uniform mat4 A,B,C;void main(){K=D,M=F,L=C*F,gl_Position=A*B*L,N=C*vec4(E,0);}`),A=X1(q1(`#version 300 es
in vec4 F;void main(){gl_Position=vec4(F.xy,1,1);}`),`#version 300 es
precision highp float;uniform vec3 C,J;uniform mat4 B;uniform highp sampler2D D;out vec4 O;void main(){vec2 o=gl_FragCoord.xy/C.xy*2.-1.;vec3 e=(normalize(B*vec4(o.x*-(C.x/C.y),-o.y,sqrt(3.),0.))).xyz;float i=(-32.-J.y)/e.y,u=1.-clamp(abs(i/1e4),0.,1.);if(O=vec4(0,0,0,1),u>.01){if(i>0.){float i=cos(C.z/30.),o=sin(C.z/30.);e.xz*=mat2(i,o,-o,i);vec3 u=abs(e);O.xyz=vec3(dot(vec2(texture(D,e.xy).z,texture(D,e.yz*2.).z),u.zx)*u.y);}else{vec3 t=J+e*i;vec4 r=texture(D,t.xz/150.+vec2(sin(t.z/35.+C.z),cos(t.x/25.+C.z))/80.);float o=(.9-r.y)*u;O.x=o,O.y=o*o*o;}}}`),P=X1(q1(`#version 300 es
layout(location=0)in vec4 F;uniform mat4 B,C;void main(){gl_Position=B*C*F;}`),`#version 300 es
void main(){}`),S=X1(e,`#version 300 es
precision highp float;in vec4 N,L;uniform mat4 B;uniform float I;out vec4 O;void main(){vec4 o=B*L;float a=I>0.?1.-min(abs(o.z/o.w),1.):0.,i=a*(gl_FragCoord.y>31.?1.:abs(N.y));O=vec4(i,i,a>0.?I:0.,1);}`),B=X1(e,`#version 300 es
precision highp float;in vec4 N,L,M,K;uniform vec3 J;uniform mat4 B,I[3];uniform highp sampler2DShadow H[3];uniform highp sampler2D D;out vec4 O;void main(){vec3 e=normalize(N.xyz),m=K.w*(texture(D,M.yz*.035)*e.x+texture(D,M.xz*.035)*e.y+texture(D,M.xy*.035)*e.z).xyz;e=normalize(e+m*.5);float a=dot(e,vec3(-.656059,.666369,-.35431468)),o=1.,t=abs((B*L).z);vec4 r=I[t<40.?0:t<85.?1:2]*L;if(r=r/r.w*.5+.5,r.z<1.){o=0.;for(float e=-1.;e<=1.;++e)for(float a=-1.;a<=1.;++a){vec3 s=vec3(r.xy+vec2(e,a)/1024.,r.z-.00034877);o+=t<40.?texture(H[0],s):t<85.?texture(H[1],s):texture(H[2],s);}o/=9.;}vec3 s=K.xyz*(1.-m.x);O=vec4(.1*s+s*(max(0.,a)*.5+s*a*a*.4)*(o*.7+.3)+.7*pow(max(0.,dot(normalize(L.xyz-J),reflect(vec3(-.656059,.666369,-.35431468),e))),35.)*o,1);}`),D=new Uint8Array(65536),F=(e=e1.c25(),e1.c5w()),L=e1.c3z(),H=V(3,t=>{let a,e=e1.c25(),l=e1.c5w(),s=B(`I[${t}]`);return B(),e1.ubh(B(`H[${t}]`),t),e1.b6o(36160,l),e1.d45([0]),e1.r9l(0),e1.a4v(33984+t),e1.b9j(3553,e),e1.fas(36160,36096,3553,e,0),e1.t60(3553,0,36012,1024,1024,0,6402,5126,null),e1.t2z(3553,10242,33071),e1.t2z(3553,10243,33071),e1.t2z(3553,10241,9729),e1.t2z(3553,10240,9729),e1.t2z(3553,34893,515),e1.t2z(3553,34892,34894),t=>{t?(e1.b6o(36160,l),1===t?e1.iay(36160,[36064,36096]):(e1.c4s(256),e1.uae(P("B"),!1,a=t),W1(P("C"),!j))):e1.uae(s,!1,a)}});e1.b11(34963,e1.c1b()),e1.b2v(34963,new Uint16Array(v1),35044),e1.b11(34962,e1.c1b()),e1.b2v(34962,new Float32Array(d1),35044),e1.v7s(0,3,5126,!1,0,0),e1.b11(34962,e1.c1b()),e1.b2v(34962,new Int16Array(U),35044),e1.v7s(1,3,5122,!0,0,0),e1.b11(34962,e1.c1b()),e1.b2v(34962,new Uint32Array(w1),35044),e1.v7s(2,4,5121,!0,0,0),e1.e3x(0),e1.e3x(1),e1.e3x(2),e1.e8z(2929),e1.e8z(2884),e1.c70(1),e1.c7a(1029),e1.d4n(515),e1.c5t(0,0,0,1),A(),e1.ubh(A("D"),3),S(),e1.uae(S("A"),!1,p1(1.4,.59,1e-4,1)),B(),e1.ubh(B("D"),3),e1.b6o(36160,F),e1.bb1(36161,L),e1.r4v(36161,33189,128,128),e1.f8w(36160,36096,36161,L),e1.a4v(33987),e1.b9j(3553,e),e1.fas(36160,36064,3553,e,0),e1.t60(3553,0,6407,128,128,0,6407,5121,null),e1.b9j(3553,e1.c25()),e1.t60(3553,0,6408,1024,1024,0,6408,5121,t),e1.gbn(3553),e1.t2z(3553,10241,9987),e1.t2z(3553,10240,9729),lt.h=()=>X.translate(Q.x,Q.y,Q.z).rotateSelf(0,r),s1.map((t,a)=>{t.h=()=>X.translate(0,n*W(.45*Math.sin(9.1*T+Math.PI*a-Math.PI/2))).rotateSelf(n*Math.sin(9.1*T+Math.PI*a)*.25/q,0)}),P1(U1);{let t=()=>{hC.width=innerWidth,hC.height=innerHeight,_.length=r1=n1=0};b1.onclick=()=>F1(!1),b2.onclick=()=>{F1(!1),hC.requestPointerLock()},b3.onclick=()=>{confirm("Delete game progress?")&&(localStorage.L="",location.reload())},b4.onclick=()=>{o1=!o1,D1()},oncontextmenu=()=>!1,onblur=onresize=t,onkeydown=onkeyup=({code:t,target:a,type:e,repeat:l})=>{l||(e[5]&&("Escape"===t||"Enter"===t&&k)?F1(!k):_[at[t]]=e[5]?a===document.body:0)},onmousemove=({movementX:t,movementY:a})=>{document.pointerLockElement&&(r1+=t,n1+=a)},document.onvisibilitychange=()=>document.hidden&&F1(!0);try{let[t,e,l,a,s,r]=JSON.parse(localStorage.L);666===t&&(R.map((t,a)=>t.g=t.i=t.j=0|e[a]),L1.map((t,a)=>{t.j=0|l[a]}),i1=0|a,T=0|s,x=0|r)}catch{}O1(),t(),F1(!0)}a(),requestAnimationFrame(d)}h1.innerHTML+="."},e=()=>{if(t<5){{let B,D,a=S1[t++],F=0;for(let S of B1){let d,M,g,p,v,b=0,I=0,C=[],A=4*S,[y,t,x]=a,P=new Int32Array(768*S);for(let a,m=0;m<=11;++m){a=t[m];for(let t=0;t<32;++t){let e=y[17]/512,z=2**(y[18]-9)/S,l=y[19],s=y[20],w=.00308*y[21],r=1-y[22]/255,n=1e-5*y[23],o=y[24]/32,c=y[25]/512,i=Math.PI*2**(y[26]-8)/S,h=y[27]/255,u=y[28]*S&-2,f=(32*m+t)*S;for(B=0;B<4;++B)if(d=a?x[a-1][t+32*B]:0){if(!(D=C[d])){D=d;let e,l,s,r=0,n=0,o=$1[y[0]],c=y[1],i=y[3]/32,h=$1[y[4]],u=y[5],f=y[8]/32,x=y[9],m=4*y[10]**2,M=4*y[11]**2,g=4*y[12]**2,z=-y[13]/16,p=y[14],v=new Int32Array(m+M+g);for(let t=0,a=0;m+M+g>t;++t,++a)a<0||(p=p>>8|(255&p)<<4,a-=A,l=.00396*2**((d+(15&p)+y[2]-256)/12),e=.00396*2**((d+(15&p)+y[6]-256)/12)*(1+8e-4*y[7])),s=1,m>t?s=t/m:m+M>t||(s=(1-(s=(t-m-M)/g))*3**(z*s)),v[t]=80*(o(r+=l*s**i)*c+h(n+=e*s**f)*u+(x?(2*Math.random()-1)*x:0))*s|0;D=C[D]=v}for(let t=0,a=2*f;D.length>t;++t,a+=2)P[a]+=D[t]}for(let t,a=0;S>a;++a)B=0,((t=P[D=2*(f+a)])||v)&&(g=w,l&&(g*=Math.sin(z*D*Math.PI*2)*e+.5),b+=(g=1.5*Math.sin(g))*I,p=r*(t-I)-b,I+=g*p,t=3===s?I:1===s?p:b,n&&(t=(t*=n)<1?-1<t?Math.sin(t/4*Math.PI*2):-1:1,t/=n),t*=o,v=1e-5<t*t,B=t*(1-(M=Math.sin(i*D)*c+.5)),t*=M),u>D||(B+=P[1+D-u]*h,t+=P[D-u]*h),P[D]=0|B,P[1+D]=0|t,Q1[F+D]+=0|B,Q1[F+D+1]+=0|t}}F+=P.length}}setTimeout(e)}else(()=>{let l=Z1.createBuffer(2,5362944,44100);for(let e=0;e<2;e++)for(let t=e,a=l.getChannelData(e);t<10725888;t+=2)a[t>>1]=Q1[t]/65536;tt.loop=!0,tt.buffer=l})();a()},l=6,O=new Image;O.onload=O.onerror=()=>{a()},O.src=G1,setTimeout(e,50),b(j1)})</script>